<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <title>Admin</title>
    <span th:include="includes :: css"></span>
</head>
<body class="admin-body">

<div th:include="navbar :: navbar"></div>

<div class="container admin-pg">

    <h1>Add new projects to the database:</h1>
    <div class="admin-form">
        <form action="/admin/createProject" method="post">
            <input type="hidden"
                   th:name="${_csrf.parameterName}"
                   th:value="${_csrf.token}"/>
            <input type="text" name="title" required="required" placeholder="title"/>
            <input type="text" name="image" placeholder="image"/>
            <input type="text" name="technologies" placeholder="technologies"/>
            <input type="text" name="description" placeholder="description"/>
            <input type="text" name="completed" placeholder="completed"/>
            <input type="text" name="url" placeholder="url"/>
            <input type="text" name="code" placeholder="code"/>
            <input type="text" name="walkthrough" placeholder="walkthrough"/>
            <input type="text" name="viewable"/>
            <input type="submit" value="Add"/>
        </form>
    </div>
    <ul>
        <li th:each="project : ${projects}">
            <form action="/admin/deleteProject" method="post">
                <span th:text="${project.title}"></span>
                :
                <span th:text="${project.image}"></span>
                :
                <span th:text="${project.technologies}"></span>
                :
                <span th:text="${project.description}"></span>
                :
                <span th:text="${project.completed}"></span>
                :
                <span th:text="${project.url}"></span>
                :
                <span th:text="${project.code}"></span>
                :
                <span th:text="${project.walkthrough}"></span>

                <h5>Is this project viewable on the website?</h5>
                <div class="col-sm-6">
                    <div class="form-group">
                        <div class="radio-inline">
                            <label class="col-sm-2 control-label">
                                <input type="radio" name="viewable" id="true"
                                       th:checked="${project.viewable == True}"
                                       th:value="${project.viewable}"/>
                                Yes
                            </label>
                        </div>
                        <div class="radio-inline">
                            <label class="col-sm-2 control-label">
                                <input type="radio" name="viewable" id="false"
                                       th:checked="${project.viewable == False}"
                                       th:value="${project.viewable}"/>
                                No
                            </label>
                        </div>
                    </div>
                </div>


                <input type="hidden"
                       th:name="${_csrf.parameterName}"
                       th:value="${_csrf.token}"/>
                <input type="hidden" name="id" th:value="${project.id}"/>
                <input type="submit" value="Delete"/>

            </form>

            <form th:action="'/admin/updateProject/' + ${project.id}" method="get">
                <input type="hidden" name="id" th:value="${project.id}"/>
                <input type="submit" value="Update"/>

            </form>

        </li>
    </ul>

    <form th:action="@{/login}" method="post">
        <input type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"/>
        <input type="submit" value="Logout"/>
    </form>

</div>

<div th:include="navbar :: project-footer"></div>

<span th:include="includes :: js"></span>

</body>

</html>